<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Filtering - UFDL API</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Filtering";
    var mkdocs_page_input_path = "filtering.md";
    var mkdocs_page_url = "/waikato-datamining/ufdl-api/filtering/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> UFDL API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Core</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../authentication/">Authentication</a>
                </li>
                <li class="">
                    
    <a class="" href="../cuda/">CUDA</a>
                </li>
                <li class="">
                    
    <a class="" href="../docker_images/">Docker images</a>
                </li>
                <li class="">
                    
    <a class="" href="../domains/">Domains</a>
                </li>
                <li class="">
                    
    <a class="" href="../frameworks/">Frameworks</a>
                </li>
                <li class="">
                    
    <a class="" href="../hardware/">Hardware</a>
                </li>
                <li class="">
                    
    <a class="" href="../licenses/">Licenses</a>
                </li>
                <li class="">
                    
    <a class="" href="../nodes/">Nodes</a>
                </li>
                <li class="">
                    
    <a class="" href="../pretrained_models/">Pretrained models</a>
                </li>
                <li class="">
                    
    <a class="" href="../projects/">Projects</a>
                </li>
                <li class="">
                    
    <a class="" href="../teams/">Teams</a>
                </li>
                <li class="">
                    
    <a class="" href="../users/">Users</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Job execution</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../jobs/">Jobs</a>
                </li>
                <li class="">
                    
    <a class="" href="../job_templates/">Job templates</a>
                </li>
                <li class="">
                    
    <a class="" href="../job_outputs/">Job outputs</a>
                </li>
                <li class="">
                    
    <a class="" href="../job_types/">Job types</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Data</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../datasets/">Core dataset</a>
                </li>
                <li class="">
                    
    <a class="" href="../image_classification/">Image classification</a>
                </li>
                <li class="">
                    
    <a class="" href="../image_segmentation/">Image segmentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../object_detection/">Object Detection</a>
                </li>
                <li class="">
                    
    <a class="" href="../speech/">Speech</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Filtering</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#top-level">Top-level</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#expressions">Expressions</a></li>
        
            <li><a class="toctree-l3" href="#order-by">Order by</a></li>
        
        </ul>
    

    <li class="toctree-l2"><a href="#example">Example</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../permissions/">Permissions</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">UFDL API</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Filtering</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The API supports generic filtering, which is applied to the database backend.
Whilst very flexible, this also requires the knowledge of the underlying database 
field names.</p>
<h4 id="top-level">Top-level</h4>
<pre><code class="language-json">{
  &quot;expressions&quot;: [ ... expressions ... ],
  &quot;order_by&quot;: [ ... orderings ... ],
  &quot;include_inactive&quot;: true/false
}
</code></pre>
<ul>
<li><code>expressions</code> is an array of expressions which filter the list. 
  Each is applied in order, further filtering the result of the previous expressions.</li>
<li><code>order_by</code> is a list of orderings, in order of precedence.</li>
<li><code>include_inactive</code> is optional, and defaults to false if omitted. 
  Otherwise it determines whether soft-deleted objects are included in the result.</li>
</ul>
<h5 id="expressions">Expressions</h5>
<p>The following expressions (<code>type</code>) are available:</p>
<ul>
<li>
<p><code>or</code> - can contain <code>and(s)</code> and other expressions</p>
<ul>
<li><code>sub_expressions</code> - the sub-expressions to combine via logical OR</li>
</ul>
</li>
<li>
<p><code>and</code> - cannot contain <code>or(s)</code> but other expressions</p>
<ul>
<li><code>sub_expressions</code> - the sub-expressions to combine via logical AND</li>
</ul>
</li>
<li>
<p><code>exact</code> - for exact matching of bool/int/float/str</p>
<ul>
<li>field: str - the field to work on</li>
<li>value: bool/int/float/str - the value to match</li>
<li>case_insensitive: bool - for strings only</li>
<li>invert: bool - whether invert the matching, i.e., logical NOT </li>
</ul>
</li>
<li>
<p><code>contains</code> - for sub-string matching</p>
<ul>
<li>field: str - the field to work on</li>
<li>value: str - the sub-string to look for</li>
<li>case_insensitive: bool</li>
<li>invert: bool - whether invert the matching, i.e., logical NOT </li>
</ul>
</li>
<li>
<p><code>is_null</code> - checks for NULL values</p>
<ul>
<li>field: str - the field to work on</li>
<li>invert: bool - whether invert the matching, i.e., logical NOT </li>
</ul>
</li>
<li>
<p><code>compare</code></p>
<ul>
<li>field: str - the field to work on</li>
<li>operator: str - the comparison to perform (&lt;, &gt;, &gt;=, &lt;=)</li>
<li>value: bool/int/float/str - the value to compare against</li>
<li>invert: bool - whether invert the comparison, i.e., logical NOT </li>
</ul>
</li>
</ul>
<h5 id="order-by">Order by</h5>
<pre><code class="language-json">{
  &quot;field&quot;: &quot;my_field&quot;,
  &quot;ascending&quot;: true/false,
  &quot;nulls_first&quot;: true/false
}
</code></pre>
<ul>
<li><code>field</code>: str - the field to enforce the ordering on</li>
<li><code>ascending</code>: bool - ascending or descending</li>
<li><code>nulls_first</code>: bool (optional) - whether nulls are listed first or last, 
  uses database default if omitted</li>
</ul>
<h4 id="example">Example</h4>
<p>The following filter searches for anyone with rob in their name (Robert, Robbie, etc.) 
who is not exactly 2m tall, unless their name is Robert, in which case they must be exactly
1.75m tall. Ignores the case of the names. Returns people in order of tallest to
shortest, then alphabetically if their height is the same, and then by some
mysterious third field for people with the same height and name.</p>
<pre><code class="language-json">{
  &quot;expressions&quot;: [
    {
      &quot;sub_expressions&quot;: [
        {
          &quot;sub_expressions&quot;: [
            {
              &quot;field&quot;: &quot;name&quot;,
              &quot;value&quot;: &quot;robert&quot;,
              &quot;case_insensitive&quot;: true,
              &quot;type&quot;: &quot;exact&quot;
            },
            {
              &quot;field&quot;: &quot;height&quot;,
              &quot;value&quot;: 1.75,
              &quot;type&quot;: &quot;exact&quot;
            }
          ],
          &quot;type&quot;: &quot;and&quot;
        },
        {
          &quot;sub_expressions&quot;: [
            {
              &quot;field&quot;: &quot;name&quot;,
              &quot;value&quot;: &quot;robert&quot;,
              &quot;case_insensitive&quot;: true,
              &quot;invert&quot;: true,
              &quot;type&quot;: &quot;exact&quot;
            },
            {
              &quot;field&quot;: &quot;name&quot;,
              &quot;sub_string&quot;: &quot;rob&quot;,
              &quot;case_insensitive&quot;: true,
              &quot;type&quot;: &quot;contains&quot;
            },
            {
              &quot;field&quot;: &quot;height&quot;,
              &quot;value&quot;: 2.0,
              &quot;invert&quot;: true,
              &quot;type&quot;: &quot;exact&quot;
            }
          ],
          &quot;type&quot;: &quot;and&quot;
        }
      ],
      &quot;type&quot;: &quot;or&quot;
    }
  ],
  &quot;order_by&quot;: [
    {
      &quot;field&quot;: &quot;height&quot;,
      &quot;ascending&quot;: false
    },
    {
      &quot;field&quot;: &quot;name&quot;
    },
    {
      &quot;field&quot;: &quot;other&quot;,
      &quot;nulls_first&quot;: true
    }
  ],
  &quot;include_inactive&quot;: false
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../permissions/" class="btn btn-neutral float-right" title="Permissions">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../speech/" class="btn btn-neutral" title="Speech"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../speech/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../permissions/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
